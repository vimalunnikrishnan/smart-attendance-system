{% extends "base.html" %}
{% block content %}

<style>
    .report-container {
        width: 90%;
        margin: auto;
    }

    h2, h3 {
        text-align: center;
        margin-top: 20px;
    }

    table {
        border-collapse: collapse;
        width: 100%;
        margin-top: 20px;
        background: white;
    }

    th, td {
        padding: 10px;
        border: 1px solid #ccc;
        text-align: center;
    }

    th {
        background: #667eea;
        color: white;
    }

    tr:nth-child(even) {
        background: #f2f2f2;
    }

    .back {
        text-align: center;
        margin-top: 25px;
    }

    .back a {
        text-decoration: none;
        padding: 10px 18px;
        background: #667eea;
        color: white;
        border-radius: 6px;
    }

    .back a:hover {
        background: #4c51bf;
    }
</style>

<div class="report-container">

    <h2>ðŸ“‹ Attendance Report</h2>

    <!-- =========================
         Attendance Records Table
    ========================== -->
    <table>
        <tr>
            <th>Name</th>
            <th>Roll No</th>
            <th>Subject</th>
            <th>Date</th>
            <th>Status</th>
        </tr>

        {% for row in records %}
        <tr>
            <td>{{ row.name }}</td>
            <td>{{ row.roll_no }}</td>
            <td>{{ row.subject_name }}</td>
            <td>{{ row.date }}</td>
            <td>{{ row.status }}</td>
        </tr>
        {% endfor %}
    </table>


    <!-- =========================
         Student Percentage Table
    ========================== -->
    <h3>ðŸ“Š Student Attendance Percentage</h3>

    <table>
        <tr>
            <th>Name</th>
            <th>Roll No</th>
            <th>Attendance %</th>
        </tr>

        {% for r in report %}
        <tr>
            <td>{{ r.name }}</td>
            <td>{{ r.roll }}</td>
            <td>{{ r.percentage }}%</td>
        </tr>
        {% endfor %}
    </table>


    <div class="back">
        <a href="/students">â¬… Back to Students</a>
    </div>

</div>

{% endblock %}
